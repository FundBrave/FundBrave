# ===========================================
# FundBrave AI Service Configuration
# Complete configuration for Phases 1-3
# ===========================================

# ===========================================
# CORE SETTINGS
# ===========================================

# API Configuration
API_HOST=0.0.0.0
API_PORT=8001
ENVIRONMENT=development
DEBUG=true

# ===========================================
# MODEL CONFIGURATION
# ===========================================

# Primary Models
CONVERSATIONAL_MODEL=Qwen/Qwen2.5-7B-Instruct
MEDIA_VERIFIER_MODEL=prithivMLmods/Deep-Fake-Detector-v2-Model
MULTIMODAL_MODEL=Qwen/Qwen2-VL-7B-Instruct

# Additional Models (for model routing)
SIMPLE_QUERY_MODEL=Qwen/Qwen2.5-1.5B-Instruct
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Model Directories
MODELS_DIR=./models
LORA_ADAPTER_DIR=./adapters

# Model Loading Options
LOAD_MODELS=false
USE_4BIT_QUANTIZATION=true
USE_FLASH_ATTENTION=true
MAX_MODEL_LENGTH=4096

# Device Configuration
DEVICE=auto
TORCH_DTYPE=float16

# GPU Memory Configuration
GPU_MEMORY_FRACTION=0.9
OFFLOAD_TO_CPU=false

# ===========================================
# EXTERNAL SERVICES
# ===========================================

# Backend Integration
BACKEND_URL=http://localhost:4000
BACKEND_API_KEY=

# JWT Configuration (must match backend)
JWT_SECRET=your-jwt-secret-here
JWT_ALGORITHM=HS256

# Database (PostgreSQL for conversation memory)
DATABASE_URL=postgresql://user:password@localhost:5432/fundbrave_ai

# Redis Cache
REDIS_URL=redis://localhost:6379
REDIS_PREFIX=fundbrave_ai:
CACHE_TTL_SECONDS=3600

# HuggingFace (required for gated models)
HF_TOKEN=

# ===========================================
# PHASE 1: INFRASTRUCTURE
# ===========================================

# LoRA Fine-tuning Configuration
LORA_R=16
LORA_ALPHA=32
LORA_DROPOUT=0.05
TRAINING_BATCH_SIZE=4
TRAINING_LEARNING_RATE=0.0002
TRAINING_NUM_EPOCHS=3
TRAINING_MAX_SEQ_LENGTH=2048
TRAINING_DATA_DIR=./data/training

# Cost Monitoring
DAILY_BUDGET=10.0
BUDGET_WARNING_THRESHOLD=0.7
BUDGET_CRITICAL_THRESHOLD=0.9
INPUT_TOKEN_COST=0.0005
OUTPUT_TOKEN_COST=0.001

# ===========================================
# PHASE 2: ADVANCED FEATURES
# ===========================================

# RAG Configuration
RAG_ENABLED=true
CHROMA_PERSIST_DIR=./data/chroma
RAG_COLLECTION_NAME=fundbrave_knowledge
RAG_CHUNK_SIZE=512
RAG_CHUNK_OVERLAP=50
RAG_TOP_K=5
RAG_MIN_SCORE=0.5

# Web Search Configuration
WEB_SEARCH_ENABLED=true
SERPAPI_KEY=
SEARCH_RESULTS_LIMIT=5

# Recommendation Engine
RECOMMENDATIONS_ENABLED=true
RECOMMENDATION_LIMIT=10
SIMILARITY_THRESHOLD=0.3

# Multi-language Support
SUPPORTED_LANGUAGES=en,es,fr,de,zh,ja,ko,ar,hi,pt
DEFAULT_LANGUAGE=en
AUTO_DETECT_LANGUAGE=true

# Conversation Memory
MEMORY_ENABLED=true
MAX_MEMORY_CONVERSATIONS=100
MEMORY_WINDOW_MESSAGES=20

# Fraud Detection
FRAUD_DETECTION_ENABLED=true
FRAUD_RISK_THRESHOLD=0.7
DUPLICATE_DETECTION_THRESHOLD=0.85

# Content Moderation
MODERATION_ENABLED=true
TOXICITY_THRESHOLD=0.7
PROFANITY_CHECK_ENABLED=true
SPAM_DETECTION_ENABLED=true

# Analytics
ANALYTICS_ENABLED=true
METRICS_RETENTION_DAYS=90

# ===========================================
# PHASE 3: OPTIMIZATION & SCALING
# ===========================================

# A/B Testing
AB_TESTING_ENABLED=false
AB_TEST_DEFAULT_VARIANT=control
AB_TEST_SAMPLE_RATE=1.0

# Safety Filters
SAFETY_ENABLED=true
BLOCK_HARMFUL_CONTENT=true
SAFETY_REVIEW_THRESHOLD=0.5

# Model Routing
MODEL_ROUTING_ENABLED=false
COMPLEX_QUERY_THRESHOLD=0.6

# ===========================================
# RATE LIMITING
# ===========================================

RATE_LIMIT_ENABLED=true
RATE_LIMIT_CHAT=10/minute
RATE_LIMIT_MEDIA=5/minute
RATE_LIMIT_TRAINING=2/hour
RATE_LIMIT_SEARCH=20/minute
RATE_LIMIT_RECOMMENDATIONS=30/minute

# ===========================================
# LOGGING
# ===========================================

LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=./logs/ai-service.log

# ===========================================
# CORS CONFIGURATION
# ===========================================

CORS_ORIGINS=["http://localhost:3000","http://localhost:4000"]
CORS_ALLOW_CREDENTIALS=true

# ===========================================
# CONVERSATION SETTINGS
# ===========================================

MAX_CONVERSATION_HISTORY=10
DEFAULT_SYSTEM_PROMPT=You are FundBrave AI, a helpful assistant for a decentralized fundraising platform. Help users with creating campaigns, donating, and understanding how the platform works.

# ===========================================
# MONITORING (Optional)
# ===========================================

PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090
